function [Y,Xf,Af] = Dnet(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 10-Jul-2021 12:35:35.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = Qx8 matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = Qx2 matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-7.49999999999966;-10.9999999999998;-7.49999999999704;-13.4999999999997;-58.5861912818697;-14.4999999999998;-21.0000000000005;-14.0000000008844];
x1_step1.gain = [0.0769230769230759;0.0701754385964923;0.0578853975354482;0.0500000000000003;0.0161830377591267;0.0701754385964935;0.064516129032259;0.0597014925413787];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.2540581149165705988;2.196933234260425305;2.3615652276120004949;2.6059655310028362329;-2.5328007306935793608;2.1211786553951132994;-2.4218985212014874087;2.8642862347962463332;-1.4824053522496547508;1.0910050683466505639;2.4719715805701065747;-1.9679419923306458173;1.7743321141519501349;-1.5921201016217885194;-2.3599608878419733315;0.53034950252189438924;1.4659856219422142676;2.227548901723717556;-1.7017827971055574654;-0.68137029247589264713;-1.2136826777668481281;-1.380627225946122083;1.1133379051269640669;1.8768848718065020975;1.5156389690379814539;-1.248824631931166218;-0.88968844727823392926;-2.4200694988172961608;0.42977185610078555422;-1.0420004018199771068;-0.20764577759982394412;-1.1856232452797190735;-0.56655040347978247173;0.91191337478369527414;-0.39987544240742750601;0.44537917528237819242;-1.6253007230831562069;-1.1737014349979377759;0.54220163098783358269;-0.061816312478430085475;1.0385757766847163452;1.7471425026765226018;-0.345705341127826693;0.025186239345531803713;0.11426008811786457497;0.32134668253544734773;1.455121946077824413;-1.5731756555220979266;-0.41873682990307758978;-0.094001768177075617494;-1.0751754608117887191;-1.5193543525002133343;-0.064724046277181951359;-0.082090557160834687345;-1.5797012619206922679;-0.27990561605029351533;-0.92444907680479226908;-0.21832238869883263677;1.6404183558214640026;-1.7137219570585671136;0.97049029552910148766;-0.5481717932079422928;0.084823264771123230155;-1.5848656641312002247;-1.1322530482420229969;-1.0121959262765276577;-0.034914965475525985839;2.2587545986071253523;1.4347282963268295219;1.3254734197699855613;4.9881449176475101126;2.3405382988451699511;0.66921591521475742859;1.2543310849400215456;3.2975672241587181688;1.8982546007524305764;0.72095399199255350009;3.2607457588569803697;-1.0047145399030696922;-1.9142434658387386115;2.2546576083458349515;-0.23460683062710280256;-1.9538007571318363187;2.163233983010673267;2.5002020160186799735;-0.83894841844804179942;-0.98777887555924459573;1.5652504469206174331;1.8378578103595335502;-2.1670130303358425827;-2.3022911626999569279;1.6077823268376691956;2.4662080664918404338;-2.2907627956310525619;-2.1186624508741651596;1.591896006651320139;2.9553570162397244658;2.4596196963741925323;-2.9769219735592944431;4.4105589361010633098];
IW1_1 = [1.5722408873028144161 -0.54908791340609142129 1.4059155607426885304 -1.0306313914487092998 -0.5350384946135738895 0.62783095720671300288 0.2395258429308601833 0.47664784975903051745;-0.71904361226025281795 0.18541517185331909956 -0.60905489517984345849 -0.75326527215791339032 0.69811439022386945208 0.15256724919462172352 1.2070581307420351624 1.8819074160104378723;-0.8951527732205575294 0.49348038467310595401 -0.82869329053477924774 0.94202856332820739116 0.52756167852585400535 1.4308824512934597006 1.1724772448255618151 -0.39742135822085544739;-0.78978630260679538733 0.79906064876909910222 -0.0042288075624747935299 -1.5071817318679536779 -0.30497022421074548859 0.77612874658503683278 0.54216073548825749473 1.0215827146692453287;0.1529650699475068043 0.41499758438135642136 0.92246822720645904603 -0.57766131752203619953 1.0660991001103583553 1.235144017741532263 -1.1983168791193954394 0.02350635132293163454;-0.94997358983911761587 -0.91448025288634493535 -0.1736533605326132379 0.84980593472574794678 1.0619169692056111831 1.0841333272222344331 1.26044285509946552 -0.3447950435192504437;0.058732263029706119339 1.0532136688682955938 -1.2184756931609701525 -1.0243382856581246809 -0.88826399800289568276 0.6515609976098160061 0.052812760220101638564 2.0930465596533269768;-0.79018090775133476011 -0.313324986859668142 -0.93006053846309988398 0.65917936390403697455 0.27982052731848311433 -1.2378696683815892943 0.59607690550920622297 0.19108789287305127935;1.6431949893077082425 0.26320189499266788413 0.09982816281626294419 0.26180965030823211137 -0.84443269423596079015 0.70869274365923051739 2.4507250382110177256 0.51666469476756804458;-0.61220663683511788999 0.38278185503761907871 -0.97671377602237108295 0.15767265241482303351 2.5282366027535059239 -2.1686592692893174039 -0.029652948270379779483 -0.1252595594135945678;-0.52035294295690348587 -0.86706967561072856299 0.69655845248034164996 -0.8829035952136560228 -1.5046806282387836795 0.5764404402436531516 -0.078891937101529238663 -0.63443525969404890308;0.98051047106657329699 -0.91575602144866008469 0.19508995393584740996 -0.70202575380076503997 -0.033627300853645937517 0.22163787427474906933 -0.86016219285142092588 -1.7554789172314859691;-0.58377295001512508055 0.1474050298428418726 0.27943935012957088482 -0.92687396416598610838 1.5360670869578956221 2.1427259902406534664 -0.79097543554394866838 -0.54017578536350085994;0.47808036305829348933 1.5944766728438386494 0.69371513661219419422 -0.98340130038395379142 1.1863869720895909854 -0.59733959632990463184 -1.017050159282574473 0.66908522514382351432;-0.67487443946160896591 -2.873991970083205949 -0.38269404426902053906 -1.6498255501560634695 -0.31119123665396458689 -0.37438557988564702406 -1.3738348421251267428 1.9792084401628904367;-2.9957830508391549706 -0.32240673483048654102 1.1280041197094703431 1.0397805488926170625 -2.2814359674176056814 2.3357349758978611654 1.4144325577800476168 0.63589857411392369801;-2.648868104516751032 -1.0008690229648318226 1.8172540993136743204 0.78980038970595989323 1.982097363283660485 -2.9974367926869218692 -0.76747718253509000785 1.086419287351950258;-0.29462112281348989962 -0.99904659639649118219 1.1046079627037128645 0.52016738759518699187 -0.19557716411044070992 0.58052663375215496355 1.1810904198328124881 0.18666571273735926839;0.15457418674658621183 0.19670811256826548075 -2.377303478073272025 0.70282278458872216031 0.70891834416460985935 -2.1633973075022856492 -0.29622623685067794863 0.83361950609246959765;0.85357457544820636297 1.6190973479507233534 0.2406931290523666167 0.49490638168372053096 -0.95888722130938253141 -0.56472576005682406652 -0.99530617942992605229 0.97841632153064339583;0.73254850816795780144 0.25245153238453621469 2.443489001659908233 -2.3677687654031021047 -0.11265009815451004771 -1.3582268687931553508 1.2107085093579847968 0.60644093435746804222;0.48534837979224704219 0.51074339353129072361 0.63323030643281463803 0.70190789631662642289 -1.2488849974290539002 -0.60395483033070085366 0.8188822921524107068 2.5928265092421565186;-0.56493797270764456453 -0.34839246087211800385 -0.90155657524596122254 -0.65931231382259880558 -1.3665642774634494394 -1.0113216502643416206 1.0453289331226254255 -0.85051934320148669944;-0.23331142272520347114 0.85322443424744753848 0.48254344749494515465 0.2979106241095547114 0.91645018267450384375 1.9142965505825690897 1.9288491442271142873 1.5237023926445372179;-2.2103140211280920546 2.5366107371880945998 0.13090708325350225438 0.55538658729938339409 0.29713699228655560125 -0.57250939504508169264 2.0514225346982200016 -1.0363169825780609301;-0.12456502558629656274 -0.22095080767710256753 1.0260674036144510346 -0.73220825884811124862 -1.1052008673250082182 -0.57962279092609225728 -0.66339473751000821444 0.85418810104338838141;4.0768506999526472612 -3.8538292013764996469 -0.10586724796725149877 -0.99021797258734212122 -1.8922606889339426139 3.3481127529085670247 3.0200074692771536888 -0.032746686940766697727;-7.753773969764452545 -0.10286308964189909421 0.88623619951091925362 -0.26020138976621487448 2.2533867644347815862 -1.5625795785225116141 0.086618775910850417943 0.18594727976331187902;0.77967575464760840998 -0.81424234469888578936 -1.8403452410967622299 -1.6409639788863952248 0.37309794792207606751 0.094301858405502952953 -1.7592307636505990498 1.1095392988619234842;1.7231412923152038541 -0.1943816906370930131 -1.3933992480174566264 -0.80861273814694500928 1.3076018696258606688 -2.6451964859130616681 -0.18264470201488847145 0.16021748053068532447;1.1559757119943292469 -3.7737776404172582723 0.18581615488289082716 0.76713011606635206352 0.24930317116653988307 -1.8001597846709829209 0.96202059035007980725 3.9325646098022604136;0.57837003102341688621 0.75603242882008314663 -0.95762116029461508138 -0.012026856734560390644 -1.6618241442370702554 1.4441197870293676075 -1.3940210859116486386 1.5011138843668849763;-4.7405429241113017369 -0.51178113017579529576 0.91352212165910939845 -0.40280359926502534718 2.1822798216289740481 -1.6807686684279723455 -0.4373776597208996475 1.5938447584197450446;0.7175230855637990679 -0.20071484212648074696 -0.61286820201101943617 -1.1218683958427360103 -1.1881688454673129396 -2.1110163563910573359 -2.4195785931538784652 -0.35899033133267788109;-1.9147624294797189748 0.52089541302195363492 -1.6266059025213766009 1.0462083600932259309 0.23178277581312931033 1.4291064557701746995 -0.63713516089843535983 0.049986413749077918123;-1.2947225766210701536 0.19848414311513024044 0.13945979325028831641 -0.0014169485629478839606 0.90267731132807138561 2.6058484551693124054 0.39876549387656734513 8.6082368973919383137;-0.46765277767950569343 -1.7561050469864880608 -2.3722882357743926285 3.8885327775756519664 -0.59711967854098779718 -0.23236062282991071237 0.25636342883976065421 -0.77415874117978211721;1.4669907354059166238 0.17828009497860666799 -0.22820111274855639505 0.63224545985611357857 0.7199413402069591017 0.58246687541939445865 -0.9502416814451731808 1.2152498560995756982;-2.5726260656125226056 2.3660495567263892802 0.32781289274153169178 1.5110212802781008978 2.0255565878128014567 1.2796837961226665836 -4.5351208005911685106 -2.3887458486348851494;1.6637211757543632906 -3.635026981257670986 1.6069715856094035633 1.0389122738054135109 0.066906396224834574493 -0.37497270083617384451 -0.69405488176341123552 -0.2437336208953767569;-0.36973352284371269194 0.15317294201527908992 0.7202838909633391129 0.34946831411461848349 0.42463849084331917183 -2.0101620729257207998 4.18494751593933767 -0.29665687610572383237;0.15125760031445817377 0.81089721640067635722 2.1074142598095204626 2.9886048599082153387 -0.11875251001452165334 0.18723699005650495941 -1.3006939210316639244 -0.44373083369020593913;1.9327356554019918811 -1.8496849400386881079 -2.5850584381386125798 -1.3813741673147938993 -1.3178530175623643927 0.69602981840490596444 -1.6230220388849647684 0.38104733051215156081;3.2709835658266657177 0.38454116154103445968 1.5675825943787353722 -3.7403812145588677396 1.4647671831862676406 0.034573833458756350612 2.7653523517806744003 -0.8874210448973748333;1.4878999987703891428 -1.311159511834087521 2.3965533931019984415 -0.98295490860356149465 -0.83093079634051680848 0.56381780413520898865 -0.51743386540298230702 0.48000416711910287582;0.68289843385960480315 -2.248543146306014151 -0.85494953367386161691 -0.64754869001171788678 2.2908480425008761472 1.9421675113897907128 -0.93752281866000741761 0.70741960405015014146;-0.076811666776023301839 -0.5064300650890767308 1.0794391438190691357 -1.7943056990706940379 -0.27989000193810953387 -0.83438605946047883499 0.103923211657884762 -2.0155684268264217884;2.7441455655924107404 -0.10040501515726212023 -1.081409376764461916 -4.289523569758135757 0.63673483215522652667 -6.076973870556489743 -4.1594519700017853481 -5.539001044212017888;0.46007228428605184689 1.26156945282126709 -0.41524348503212227257 1.3823579129148235722 2.3417733433200593751 -1.1830635378920184575 -0.30720226409496320663 -0.19802592252201400846;-0.70482999094072551483 -0.056116440137880335692 -0.20267794619253937105 -0.060393677965155649623 0.75533039437159132934 1.3645075612243886543 0.91650586934702060748 4.2066921794333840268;-0.78001779786843450371 -0.23713604415682815185 -0.79301409982819059952 -0.3787969730416333447 -0.072160907965310425172 1.9782853114782998905 1.6756876372930420427 0.265720897848410742;-2.5116790792238785635 -0.026747795934576195503 1.4890338138002205959 -2.7939752445529371094 -0.24184680975275438253 -1.3194779396001203864 1.0314436586497941484 -0.704182096861243223;0.84095386566149066265 -3.1168145767867381224 0.11292940863081600555 0.85113820001827678041 -0.58677138502093428851 -1.5433411084056785079 0.7219068015351018941 4.663138398665237716;-0.31872376238345440091 0.18757947828804455437 -0.69193172579378980913 -3.0179355633795270641 -0.88022658884891524789 1.0194813449562525332 1.1318116697153453032 1.7733213127493712147;2.5585183174488399516 -1.4275701427915765684 -4.2149791108960608099 -4.4044003343042543719 -0.97408915545381413725 -0.03924672093791366223 -2.737227826518060958 1.1557818624482081304;-1.2967583143069800755 -1.6111636086153933167 -1.5599931662152379808 0.97477034741941226414 -2.2251200603599663452 -0.49777173371658833823 -2.1080748240969153784 0.2299981791524160768;-0.53564544789855184082 0.39869614824615529081 -1.7713511878445717951 -0.99346834345831291913 0.61132548247049411927 1.5025658641023729167 1.1911844467356937916 -0.55083024594133422891;-1.3695773376158049128 -1.3985233921721356154 0.45547513113902882154 2.1423675207130465914 -1.5815876313363699257 -0.043036482103385467757 0.062465350161363786263 -2.5008861029057283254;1.0044624032438749239 -2.1836823095320103683 2.9097909958083714166 1.985574094393029343 -1.2443589079426271571 -4.2959187018784934509 0.20826496516916725987 -0.7618127103701302083;-1.0167811787319032124 5.1370630798225418445 -2.9174197153131395943 -1.4682066460337168667 2.3105077434390599578 0.45167724519615004564 -0.94332364143644154009 -0.29284021681468741516;0.39836222780669772181 0.42304838029484270745 -1.5660502221512477838 -1.0604493634525231638 1.240283176816139088 0.73923221221735690989 0.64279996500790781422 -0.49597159850153527128;-1.4428622626664575623 0.29038065353926612033 0.37579666568746267208 1.5993279235525295068 1.4332925516624501761 -0.6733297889078966314 -0.4661890745184990581 0.85335369334743482739;-1.2890607448177904271 0.94852974935305056636 -0.43644239655900840535 -0.18616723241365268349 -1.3336459496088635124 -0.25054975887771746557 0.49933478803415276559 4.0153636050240804067;-1.7354647163286580636 1.4162537469904339371 -3.1527055852926788582 -2.6231828067320197562 -0.47795275522877450625 -0.51704502676077424006 -5.7611822279570050753 0.67266404081503061718;-0.058340238061345098264 -1.620113407071783751 1.0103111586871540428 -4.5346594276645131316 -1.456662300850429359 -0.16390908918104854508 0.25280606097747415628 -0.4628306438752115004;-0.035518115540964609322 1.6324636456653456307 0.2667870369118831575 0.35067935700201302573 0.41949417799551874664 -0.43868213568031694249 1.6653610021327995838 1.5937873739749379709;-1.5657118867017898456 -0.52223917946250719702 0.38882100618696940897 0.8429082165489196754 -10.052173615990907862 2.5823600949708813701 -0.57807075100051608096 0.18250375407930941041;1.4064276912200268654 1.5850143735763888575 4.0971062778373132929 -2.7346878916457542097 0.45741646042308492515 -1.5619234293462433971 -0.29337167504101058224 -0.53966388084911787182;5.1853781288380602632 0.01669137987281828911 -0.88500137132436240694 -0.0084414280046574766136 -1.7910598293000417058 -0.41176632570360233165 0.42930082850940154415 0.59117232406792574739;0.07462864756010549605 0.6672673416583840833 -0.52612584515481652936 -0.8323886128060319356 -1.0944840461115104002 -0.74628869440446887751 0.098653633100531129552 8.2239942166867940898;2.6943887683288108015 1.3772250832792531927 1.0914324978850717951 4.6090378671568199564 -1.8738042387027573632 -1.2878184250570365865 -7.0700104987903324982 -1.2395109168929570043;-1.5642669638689772338 -3.9230542904309655405 4.0992003357827151433 3.1439282677065252258 -0.008884729023448202645 -5.9638524296632118293 -0.96466726684519388257 -0.37886067356858810218;-0.55417759520629805703 -1.2396454689616878131 0.16845149025369654527 1.1912881038845974935 0.33092819639507747853 1.2873874109260905474 2.2721151883774401981 2.9664022140834527264;0.79601636821782706388 3.1210686388228139343 -0.17619110517801567228 -1.1170067724750603055 -0.73324239166290072767 1.5657348490232125826 -1.275210703763243858 -3.6736424837705445867;9.1912945072356055931 -0.10318906786595816172 -1.0637183624162016571 0.0045140261494360511829 -2.0144598757659784027 -0.57108896091004102136 0.044844768553499482489 0.053502305557394297386;0.17149070600482202442 0.68896599309982886616 -1.2415392549319086424 2.0743811232472935124 13.075150142363884953 -1.7470200064648311322 -1.9236545932026085648 -1.4224914884811092897;0.5969446793825865516 -1.371033747608609854 -1.4493521069511334787 0.53732843686172715447 1.3002167992028250687 -0.80311056923953150211 0.52478546457069741304 -1.2427913801749059797;-2.1392749722987618455 -2.301209505088063878 4.5005058023331532269 4.4432342220246496822 -2.3312905839236868211 2.9976847352169144756 -1.0807617526200101743 0.57996582377682792675;-0.41978085278870796992 0.20100882119139473758 0.20755627246520311213 1.9467825147953241594 -1.3047802731238591356 -0.98713914941759306476 -0.74135254967774855128 -0.054658029473286788569;-1.4444085447019556767 2.0073610779993735775 -0.4223654975234280573 0.35098252688408293487 1.5252939338315616435 0.51267993055755434195 -0.14937188778982771198 -1.2052432357416325015;-0.13190192505020018054 -0.61168070328960499893 -0.20730777295298966068 -0.64606863078161558267 -1.1835982778703924012 -0.75473166546627812323 -0.34555152153576251806 -0.7523129592858019965;-1.1146872193322747702 0.82556758084620762705 1.4831977851705910876 -1.5774057044520004567 -0.9182145681934056336 -0.73015795579067122034 1.4178000964396049177 0.61558098746619438479;-1.6039617284882674575 -0.21526980867977130174 1.5503571384776504427 -0.057924659096494017507 -0.29008047719129637088 0.85042767493257354072 0.44407507750556113324 0.3570465107449599107;2.2755425933554689344 0.72375626802937365056 1.4408363829966253089 -1.298826331690584146 -1.6100228098464914872 7.6776258423028735933 0.67785471024858257039 0.16799624733199464144;1.104031684349270126 0.50225020969779654578 1.1001222216527291042 -0.80085477635672130958 0.62583891782766765122 1.2674045009785162019 1.7924323208817587449 0.48736504166536548377;-0.35850812987536734289 -0.99163564869060272233 3.2347899146078300525 -4.6298911815692012084 -1.3416660911609612494 -1.1474340491554970711 0.7005583428032833293 0.74671474980604479743;0.37326010701446482587 -0.097855710625980640849 -0.72985072115010485305 0.80247586740341625422 0.079189135399802032533 3.2462091264305072968 2.9610526893825568351 1.0550378019605453073;1.2272265428836504064 1.3410419915317461914 0.29468775116806655845 0.71954416759961592476 2.0072450998793662791 -1.2199674654673791085 0.74585415079020411788 -0.31945633104385662282;-1.2480497626177067261 2.8239528335514636481 0.16007103902054498068 0.91755493884681549321 1.3976021475239148728 -2.9738240439332641607 -2.8933918990738014543 -0.17156207049565527778;-0.060552080593241061623 0.89288767624564691072 -0.66165080463185654835 0.1200457872420750971 0.58761421928265977765 -1.3147206415366345933 -0.66042857221735218332 1.5937818494219406773;-0.95071514456132355519 1.1270365858038027262 0.37124926779562561485 -1.3287412855070137585 -0.46794343886719247383 -0.53163467139351983093 0.037014131817797467361 1.3964611714012429289;0.39364005775960830835 -0.95053062889314399175 0.69918559306970329281 0.93828880054129915056 1.1254122124619303502 1.4016508379158196806 -1.5384877424020284575 1.4137356682591488699;0.15381719433601642733 0.92496318759685802746 0.11078022271797907661 0.67544153979860266368 -0.78935510874542502702 0.64784869464417904616 0.11659992112410096088 -1.0442063150476812439;-2.5164211392905517783 -0.2277995733428336278 -0.87828610635494774872 0.06228627632965696298 0.77561866689205538616 -5.0447553682361290228 -0.37061773998407449016 0.50930586081975681711;-1.0446939011954394783 -0.93399442564021095681 -0.89580547180491743031 0.11066851317042172842 0.66992097995400756716 2.7141216792305695726 -0.88887577189364785912 0.1748049242620281496;0.54066534970102164692 0.65181867470340049131 -0.58054020505101999738 -1.1193345239805645441 -1.3843532385966985654 1.1181703236796460832 -1.0140413336155635893 1.0532143669973030864;0.84057813518115209739 1.3980163123077733456 0.96425451622705971033 0.011500206570494150848 -1.014596105503227319 0.729797019811479597 -0.21198424415938843524 0.62387468670159806905;0.74255907387004660425 -0.4293691048178028824 -1.7340267122300074831 1.3162014418285516992 1.076995294798981373 1.1049014280403559596 -2.8976401854279960624 1.1126698542076036702;0.076769718427745409217 1.2648935458271570731 -2.9465297725954977537 0.29534834596129339035 -2.4203368286873776505 -0.29453984306716507469 0.30563697217492336033 -0.45333950621526486469;0.21047021600660589802 1.5635142003846322911 2.6109683986836422775 5.230225591053525136 -0.56134718346077339124 0.011973581357118779495 -1.1101530475509155949 -2.0872248692195336517];

% Layer 2
b2 = [0.58529129293620141272;-0.2018682677595464714];
LW2_1 = [0.5338621632287524621 0.11314421093934491636 0.96506930543165558856 -0.16091236685011311991 0.012722019712000088437 -0.11137639490433098866 0.30600827855437223723 0.67327230659044423611 1.1172971660881385603 0.57716775874862125129 0.84637309697821017096 -0.38400225745950955503 1.4185890176384037265 0.73575314542300895848 -2.0242733067798850399 1.3130096184023321015 0.99108940760794006497 0.5864257960242525991 1.1542747806057069848 -0.36727703138654538284 1.4757123077413443202 1.7907243941911843432 0.39147558898704287733 -1.2456219026580439557 -2.1454253839065668963 0.058684694891595653998 -0.45906913297684753816 1.5958990146092137952 -1.2905450280691665998 -0.21002762594448620703 0.13400381590601800896 -0.68447422705071381266 -1.7860706915473174572 0.92401527878277212036 1.2188448889062735159 0.57250802792860122636 1.0866398865284243591 0.24978653091553404408 -0.37422182004076037787 -0.33810941003445527109 -0.066070704714431535698 -0.99406981898295920796 0.77868335770184948785 0.70000345318475531986 -0.64636015687560699483 -0.24048289098743338976 0.37448645817356568388 0.49963792228639547499 0.2385537703979778712 -0.55801282830252207923 -1.0517304229854724795 0.18898275666653630012 -1.467635711321090275 1.9409744271104631963 -0.75009694290401474071 0.16894273993045694215 -1.4331801404063604366 -0.24123804035118914801 0.7064446269765093378 0.18537913375093575952 -0.68711819358123282786 0.43038237190910122454 1.1059197384815744325 0.44478129764634172227 -0.96033254208707097277 -1.2963171574455438773 -0.085319699333514117945 1.1959394267635292675 -1.4955340607459697289 -0.71835757285244916659 0.47870448853110741938 -0.27131384605212960359 1.140395348296713296 -1.1083786497066709931 1.7002160414114304565 -0.053295258837436250421 0.27089009626547688736 -0.29136579732581130431 -0.89777475311428089899 1.0782381529976889922 0.28433035401810585752 -0.80608238471221693722 -0.15981887256831123212 -0.77149375824149901693 0.47171541104801945066 0.97345102658480453517 1.0246989025091790548 -1.020519438510765875 -0.86534497270051302653 -0.45866931476011973956 -0.8503335482469658313 1.1585838593858255319 -0.51545983984322019111 -1.2870007470158197904 1.2446666334916007823 -0.12833898700185392139 -0.71850469532902183634 1.0658536559559963486 1.1041970107404150969 -1.0074481964356500896;0.45855565591018415672 -0.90650621540103226703 0.90898224448261866204 0.38827320714255880718 0.20435299852868754611 -0.43586068011672340905 -1.3325620786170939702 0.50153795152522928635 0.48392598117273405434 0.001083002846386897644 0.44450444115009196677 1.0863888840300635064 -0.13005775125108817725 0.92858848478799149717 0.75152300779816738618 -0.68743016506086429551 -0.56952367371469592161 0.032218675979284058797 1.72286742277402527 1.1278097885185542903 0.70128689885214656741 -1.4296336358757035789 0.64374910925780226556 0.70417431987898837509 -0.30254929899325622156 -0.30797443634633114851 1.1265518857213301374 -0.87353968232273837557 0.74951247064968606892 -1.771890518186526764 1.4645114530278280363 -0.75584880835686563127 1.6134030404422268212 -0.69545521454666625605 0.010236621659186775912 -1.0882594457556269418 0.58864922812194564461 -0.64030364144247264857 0.3630348938802894776 -0.59114418199745510929 0.22170007531367574849 0.4656846938844707573 -0.18818626032745114363 0.09120523609610121929 -0.35438704059841102945 -0.63805436268774384789 -1.239277578627668186 -0.2835323807610312663 -1.5923325314380432083 2.1227982927527908608 0.46331436638765144398 -0.88509046783395950442 -0.59817740360194893157 -0.57450899275065825389 0.42242507511714194601 -0.31788429941232687614 0.12317235890540739751 0.99342054210802543945 0.21560679040970956444 0.37111171588983060676 -0.054058676787682828635 0.046416789192525051422 -1.417952790405141883 -0.20981351167652723122 -0.022736841753976683861 0.094883756376781966391 -0.80967719498331680583 0.41967079594734563175 0.071002763763824097709 0.78070924564121102485 -0.32909206164221077584 -0.45272840551881726734 -0.57284649014236999065 1.0648847885809036296 -0.58498550445267138986 -0.71941202528698355856 -1.2232218017030631607 -0.34074835490127708404 -0.50691492150981798392 -0.6295015920824356126 -0.27462484533530479025 -0.63956335085399773632 -0.97503668404685917004 0.18590297926233162462 1.3645112793123281847 0.80826694500530560372 -0.39383961504804193554 -1.0990787999975981659 1.3901774774874147145 0.69084530613391903486 -0.19148866438798550771 -0.30965725944563748939 -0.12322378107499377953 0.94403560706017242143 -0.5367754313590589188 -0.9642886748866760227 0.67951183071892562459 0.7422322273128558745 0.18967410001984336132 0.69388914570864745901];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.0800752584557887;0.0800122702550789];
y1_step1.xoffset = [10.0140650040367;10.0027948809821];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
    X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},1); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    X{1,ts} = X{1,ts}';
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
    Y{1,ts} = Y{1,ts}';
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
    Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
